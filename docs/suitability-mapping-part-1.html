<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Suitability Mapping: Part 1 | GEOG0114: Principles of Spatial Analysis</title>
  <meta name="description" content="4 Suitability Mapping: Part 1 | GEOG0114: Principles of Spatial Analysis" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Suitability Mapping: Part 1 | GEOG0114: Principles of Spatial Analysis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="4 Suitability Mapping: Part 1 | GEOG0114: Principles of Spatial Analysis" />
  <meta name="github-repo" content="UCLPG-MSC-SGDS/GEOG0114" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Suitability Mapping: Part 1 | GEOG0114: Principles of Spatial Analysis" />
  
  <meta name="twitter:description" content="4 Suitability Mapping: Part 1 | GEOG0114: Principles of Spatial Analysis" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="spatial-autocorrelation.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo">
<a href="https://www.ucl.ac.uk/module-catalogue/modules/GEOG0114"><img src="images/general/ucl_logo.png">
</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure"><i class="fa fa-check"></i>Structure</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#moodle"><i class="fa fa-check"></i>Moodle</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#module-tutors-and-contacts-for-geog0114"><i class="fa fa-check"></i>Module tutors and contacts for GEOG0114</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reading-list-for-geog0114-202223.html"><a href="reading-list-for-geog0114-202223.html"><i class="fa fa-check"></i>Reading List for GEOG0114 2022/23</a>
<ul>
<li class="chapter" data-level="" data-path="reading-list-for-geog0114-202223.html"><a href="reading-list-for-geog0114-202223.html#week-1-spatial-analysis-for-data-science"><i class="fa fa-check"></i>Week 1: Spatial analysis for data science</a></li>
<li class="chapter" data-level="" data-path="reading-list-for-geog0114-202223.html"><a href="reading-list-for-geog0114-202223.html#week-2-graphical-representation-of-spatial-data"><i class="fa fa-check"></i>Week 2: Graphical representation of spatial data</a></li>
<li class="chapter" data-level="" data-path="reading-list-for-geog0114-202223.html"><a href="reading-list-for-geog0114-202223.html#week-3-spatial-autocorrelation"><i class="fa fa-check"></i>Week 3: Spatial autocorrelation</a></li>
<li class="chapter" data-level="" data-path="reading-list-for-geog0114-202223.html"><a href="reading-list-for-geog0114-202223.html#week-4-suitability-mapping-i"><i class="fa fa-check"></i>Week 4: Suitability Mapping I</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html"><i class="fa fa-check"></i><b>1</b> Spatial analysis for data sciences</a>
<ul>
<li class="chapter" data-level="1.1" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#learning-outcomes"><i class="fa fa-check"></i><b>1.1.1</b> Learning outcomes</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#getting-started-with-rstudio"><i class="fa fa-check"></i><b>1.2</b> Getting started with RStudio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#download-and-install-rstudio-on-to-your-laptop"><i class="fa fa-check"></i><b>1.2.1</b> Download and install RStudio on to your laptop</a></li>
<li class="chapter" data-level="1.2.2" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#becoming-familiar-with-the-panels-in-rstudio"><i class="fa fa-check"></i><b>1.2.2</b> Becoming familiar with the panels in RStudio</a></li>
<li class="chapter" data-level="1.2.3" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#using-r-console-as-a-calculator"><i class="fa fa-check"></i><b>1.2.3</b> Using R Console as a Calculator</a></li>
<li class="chapter" data-level="1.2.4" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#creating-basic-objects-and-assigning-values-to-it"><i class="fa fa-check"></i><b>1.2.4</b> Creating basic objects and assigning values to it</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#basics-of-managing-data-in-rstudio"><i class="fa fa-check"></i><b>1.3</b> Basics of managing data in RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#how-do-we-enter-data-into-rstudio"><i class="fa fa-check"></i><b>1.3.1</b> How do we enter data into RStudio?</a></li>
<li class="chapter" data-level="1.3.2" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#how-do-we-create-a-variable-based-on-other-existing-variables-in-our-data-frame"><i class="fa fa-check"></i><b>1.3.2</b> How do we create a variable based on other existing variables in our data frame?</a></li>
<li class="chapter" data-level="1.3.3" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#how-do-we-set-the-working-directory-in-our-computer-by-connecting-our-folder-to-rstudio-with-the-setwd-function"><i class="fa fa-check"></i><b>1.3.3</b> How do we set the working directory in our computer by connecting our folder to RStudio with the <code>setwd()</code> function?</a></li>
<li class="chapter" data-level="1.3.4" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#how-do-we-import-merge-and-export-csv-data-with-rstudio"><i class="fa fa-check"></i><b>1.3.4</b> How do we import, merge and export CSV data with RStudio?</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#basic-visualisation-of-spatial-data-in-rstudio"><i class="fa fa-check"></i><b>1.4</b> Basic visualisation of spatial data in RStudio</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#installing-packages-into-rstudio"><i class="fa fa-check"></i><b>1.4.1</b> Installing packages into RStudio</a></li>
<li class="chapter" data-level="1.4.2" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#adding-shapefiles-in-rstudio"><i class="fa fa-check"></i><b>1.4.2</b> Adding shapefiles in RStudio</a></li>
<li class="chapter" data-level="1.4.3" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#mapping-with-tmap-functions-in-rstudio"><i class="fa fa-check"></i><b>1.4.3</b> Mapping with ‘tmap’ functions in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#references"><i class="fa fa-check"></i><b>1.5</b> References</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#recommended-reading-see-reading-list"><i class="fa fa-check"></i><b>1.5.1</b> Recommended reading (see reading list)</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#data-sources"><i class="fa fa-check"></i><b>1.6</b> Data Sources</a></li>
<li class="chapter" data-level="1.7" data-path="spatial-analysis-for-data-sciences.html"><a href="spatial-analysis-for-data-sciences.html#practical-homework"><i class="fa fa-check"></i><b>1.7</b> Practical homework</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html"><i class="fa fa-check"></i><b>2</b> Graphical representation of spatial data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#learning-outcomes-1"><i class="fa fa-check"></i><b>2.1.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="2.1.2" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#getting_started_w03"><i class="fa fa-check"></i><b>2.1.2</b> Getting started</a></li>
<li class="chapter" data-level="2.1.3" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#datasets-setting-up-the-work-directory"><i class="fa fa-check"></i><b>2.1.3</b> Datasets &amp; setting up the work directory</a></li>
<li class="chapter" data-level="2.1.4" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#loading-and-installing-packages"><i class="fa fa-check"></i><b>2.1.4</b> Loading and installing packages</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#case_study_w03"><i class="fa fa-check"></i><b>2.2</b> Case study</a></li>
<li class="chapter" data-level="2.3" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#loading_data_w03"><i class="fa fa-check"></i><b>2.3</b> Loading our data sets for case study</a></li>
<li class="chapter" data-level="2.4" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#data-processing"><i class="fa fa-check"></i><b>2.4</b> Data Processing</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#reprojecting"><i class="fa fa-check"></i><b>2.4.1</b> Reprojecting</a></li>
<li class="chapter" data-level="2.4.2" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#dissolving"><i class="fa fa-check"></i><b>2.4.2</b> Dissolving</a></li>
<li class="chapter" data-level="2.4.3" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#subsetting"><i class="fa fa-check"></i><b>2.4.3</b> Subsetting</a></li>
<li class="chapter" data-level="2.4.4" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#unioning"><i class="fa fa-check"></i><b>2.4.4</b> Unioning</a></li>
<li class="chapter" data-level="2.4.5" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#clipping"><i class="fa fa-check"></i><b>2.4.5</b> Clipping</a></li>
<li class="chapter" data-level="2.4.6" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#attribute-selection"><i class="fa fa-check"></i><b>2.4.6</b> Attribute selection</a></li>
<li class="chapter" data-level="2.4.7" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#buffering"><i class="fa fa-check"></i><b>2.4.7</b> Buffering</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#greenspace-in-london"><i class="fa fa-check"></i><b>2.5</b> Greenspace in London</a></li>
<li class="chapter" data-level="2.6" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#attributions_w03"><i class="fa fa-check"></i><b>2.6</b> Attributions</a></li>
<li class="chapter" data-level="2.7" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#reading_w03"><i class="fa fa-check"></i><b>2.7</b> References (see reading list)</a></li>
<li class="chapter" data-level="2.8" data-path="graphical-representation-of-spatial-data.html"><a href="graphical-representation-of-spatial-data.html#data-sources-1"><i class="fa fa-check"></i><b>2.8</b> Data Sources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html"><i class="fa fa-check"></i><b>3</b> Spatial autocorrelation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#learning-outcomes-2"><i class="fa fa-check"></i><b>3.1.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="3.1.2" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#getting-started"><i class="fa fa-check"></i><b>3.1.2</b> Getting started</a></li>
<li class="chapter" data-level="3.1.3" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#datasets-setting-up-the-work-directory-1"><i class="fa fa-check"></i><b>3.1.3</b> Datasets &amp; setting up the work directory</a></li>
<li class="chapter" data-level="3.1.4" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#loading-and-installing-packages-1"><i class="fa fa-check"></i><b>3.1.4</b> Loading and installing packages</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#case-study"><i class="fa fa-check"></i><b>3.2</b> Case study</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#neighbours"><i class="fa fa-check"></i><b>3.2.1</b> Neighbours</a></li>
<li class="chapter" data-level="3.2.2" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#theft-in-camden"><i class="fa fa-check"></i><b>3.2.2</b> Theft in Camden</a></li>
<li class="chapter" data-level="3.2.3" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#global-morans-i"><i class="fa fa-check"></i><b>3.2.3</b> Global Moran’s I</a></li>
<li class="chapter" data-level="3.2.4" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#local-morans-i-or-lisa"><i class="fa fa-check"></i><b>3.2.4</b> Local Moran’s I (or LISA)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#attributions"><i class="fa fa-check"></i><b>3.3</b> Attributions</a></li>
<li class="chapter" data-level="3.4" data-path="spatial-autocorrelation.html"><a href="spatial-autocorrelation.html#references-see-reading-list"><i class="fa fa-check"></i><b>3.4</b> References (see reading list)</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html"><i class="fa fa-check"></i><b>4</b> Suitability Mapping: Part 1</a>
<ul>
<li class="chapter" data-level="4.1" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#learning-outcomes-3"><i class="fa fa-check"></i><b>4.1.1</b> Learning outcomes</a></li>
<li class="chapter" data-level="4.1.2" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#datasets-setting-up-the-work-directory-2"><i class="fa fa-check"></i><b>4.1.2</b> Datasets &amp; setting up the work directory</a></li>
<li class="chapter" data-level="4.1.3" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#loading-and-installing-packages-2"><i class="fa fa-check"></i><b>4.1.3</b> Loading and installing packages</a></li>
<li class="chapter" data-level="4.1.4" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#loading-datasets"><i class="fa fa-check"></i><b>4.1.4</b> Loading datasets</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#suitability-mapping-using-simple-overlays"><i class="fa fa-check"></i><b>4.2</b> Suitability mapping using Simple Overlays</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#setting-up-binary-classification-on-raster"><i class="fa fa-check"></i><b>4.2.1</b> Setting up binary classification on raster</a></li>
<li class="chapter" data-level="4.2.2" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#finding-areas-of-suitability-by-multiplying-the-binary-rasters"><i class="fa fa-check"></i><b>4.2.2</b> Finding areas of suitability by multiplying the binary rasters</a></li>
<li class="chapter" data-level="4.2.3" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#finding-areas-of-suitability-by-summing-the-binary-rasters"><i class="fa fa-check"></i><b>4.2.3</b> Finding areas of suitability by summing the binary rasters</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#analytical-hierarchy-process-ahp"><i class="fa fa-check"></i><b>4.3</b> Analytical Hierarchy Process (AHP)</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#standardizing-the-raster-variables-to-the-same-scale-from-1-to-10"><i class="fa fa-check"></i><b>4.3.1</b> Standardizing the raster variables to the same scale (from 1 to 10)</a></li>
<li class="chapter" data-level="4.3.2" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#determining-the-weight-of-each-variable-using-saatys-ahp"><i class="fa fa-check"></i><b>4.3.2</b> Determining the weight of each variable using Saaty’s AHP</a></li>
<li class="chapter" data-level="4.3.3" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#weighted-linear-combination-wlc-and-derivation-of-suitability-maps-based-from-ahp-analysis"><i class="fa fa-check"></i><b>4.3.3</b> Weighted Linear Combination (WLC) and derivation of Suitability Maps based from AHP analysis</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#references-see-reading-list-1"><i class="fa fa-check"></i><b>4.4</b> References (see reading list)</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#recommended-reading"><i class="fa fa-check"></i><b>4.4.1</b> Recommended reading</a></li>
<li class="chapter" data-level="4.4.2" data-path="suitability-mapping-part-1.html"><a href="suitability-mapping-part-1.html#data-sources-2"><i class="fa fa-check"></i><b>4.4.2</b> Data Sources</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GEOG0114: Principles of Spatial Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="suitability-mapping-part-1" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> Suitability Mapping: Part 1<a href="suitability-mapping-part-1.html#suitability-mapping-part-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-3" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Introduction<a href="suitability-mapping-part-1.html#introduction-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now, with the proliferation of open spatial dataset, risk models derived from environmental, sociodemographic and topological factors are becoming increasingly available for open research. Such models have broadly shown to be useful in delineating geographical areas of risk or suitability for a certain outcomes. Today, we are going to explore this qualitatively using a knowledge-driven approach.</p>
<div id="learning-outcomes-3" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Learning outcomes<a href="suitability-mapping-part-1.html#learning-outcomes-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To provide an introductory overview to the applicability of knowledge-driven methods, in particular, we are going to learn the <strong>Multi-Criteria Decision Approach (MCDA)</strong> which is a method that use decision rules from existing knowledge to identify areas potential suitability for an outcome. It is especially useful in data-sparse situations, or when for the first time exploring the potential geographical limits of certain outcome.</p>
<p>For instance, using modest number of raster layers such as population density, urbanisation, approximating to street segments, house prices and deprivation; it is possible to combine such information so to determine regions for which crime events such as burglaries are likely to occur, or suitable in that matter. This approach has been widely used in a number of disciplines over the last decades, and has gained prominence in public health related fields such as vector-borne disease prevention, and disaster sciences such as landslides. We will learn how to apply these methods to the two context.</p>
</div>
<div id="datasets-setting-up-the-work-directory-2" class="section level3 hasAnchor" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Datasets &amp; setting up the work directory<a href="suitability-mapping-part-1.html#datasets-setting-up-the-work-directory-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before you begin do make sure to download all data by <a href="https://github.com/UCLPG-MSC-SGDS/GEOG0114/raw/main/Week%204%20-%20Dataset.zip"><strong>clicking here</strong></a>. Create a folder on called “<strong>Week 4</strong>” within your “<strong>GEOG0114</strong>” folder stored in the desktop of your personal computer. Make sure to extract all data from the zip folder and store it into “<strong>Week 4</strong>” folder. Open a new R script and set the work directory to <strong>Week 4’s</strong> folder.</p>
<p>For Windows, the work directory will be:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="suitability-mapping-part-1.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;C:/Users/AccountName/Desktop/GEOG0114/Week 4&quot;</span>)</span></code></pre></div>
<p>For MAC, the work directory will be:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="suitability-mapping-part-1.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/Users/AccountName/Desktop/GEOG0114/Week 4&quot;</span>)</span></code></pre></div>
</div>
<div id="loading-and-installing-packages-2" class="section level3 hasAnchor" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Loading and installing packages<a href="suitability-mapping-part-1.html#loading-and-installing-packages-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We will need to load the following packages:</p>
<ul>
<li><code>sf</code>: Simple Features</li>
<li><code>tmap</code>: Thematic Mapping</li>
<li><code>raster</code>: Raster/gridded data analysis and manipulation</li>
<li><code>sp</code>: Package for providing classes for spatial data (points, lines, polygons and grids)</li>
</ul>
<p>The above packages <code>sf</code>, <code>tmap</code>, <code>raster</code> &amp; <code>sp</code> should have been installed in the previous session(s). We will need to install a new package:</p>
<ul>
<li><code>spatialEco</code> - Spatial Analysis and Modelling Utilities package, which provides the user further functions such as <code>raster.invert()</code> which we will need in the third section.</li>
<li><code>BAMMtools</code> - It provides the user access to an important function <code>getJenksBreaks()</code> for the <code>AHP</code> analysis in the third section.</li>
</ul>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="suitability-mapping-part-1.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install the packages: spatialEco using the install.package()</span></span>
<span id="cb91-2"><a href="suitability-mapping-part-1.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;spatialEco&quot;</span>)</span>
<span id="cb91-3"><a href="suitability-mapping-part-1.html#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;BAMMtools&quot;</span>)</span>
<span id="cb91-4"><a href="suitability-mapping-part-1.html#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="suitability-mapping-part-1.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the packages with library()</span></span>
<span id="cb91-6"><a href="suitability-mapping-part-1.html#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;sf&quot;</span>)</span>
<span id="cb91-7"><a href="suitability-mapping-part-1.html#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tmap&quot;</span>)</span>
<span id="cb91-8"><a href="suitability-mapping-part-1.html#cb91-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;raster&quot;</span>)</span>
<span id="cb91-9"><a href="suitability-mapping-part-1.html#cb91-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;sp&quot;</span>)</span>
<span id="cb91-10"><a href="suitability-mapping-part-1.html#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;spatialEco&quot;</span>)</span>
<span id="cb91-11"><a href="suitability-mapping-part-1.html#cb91-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;BAMMtools&quot;</span>)</span></code></pre></div>
</div>
<div id="loading-datasets" class="section level3 hasAnchor" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Loading datasets<a href="suitability-mapping-part-1.html#loading-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We will be dealing with raster data only for this exercise. These will be a series of climate, environmental and other social-anthropogenic gridded data from Kenya. We are going to combine them in order to determine areas that are suitable for disease transmission of <a href="https://www.cdc.gov/parasites/lymphaticfilariasis/index.html"><strong>Lymphatic Filariasis</strong></a>, a neglected tropical disease, caused by a range of mosquitoes that spread the parasitic worms called the <strong><em>Wuchereria bancrofti</em></strong> through a mosquito bite.</p>
<p>There is evidence that indicates that precipitation, temperature, population density, aridity, dryness, land surface elevation and vegetation are risk factors for mosquito infestation, and in turn, greatly influencing the way mosquitoes breed and feeding behaviour within human dwellings thus maintaining disease transmission. We will use the following techniques for mapping areas of suitability:</p>
<ul>
<li>Binary Classification &amp; Ranking</li>
<li>Suitability Mapping using Weighted Overlay Analysis</li>
<li>MCDA Mapping</li>
</ul>
<p>Lets begin loading the following list of raster files, each is a variable of interest:</p>
<ul>
<li>Raster: Mean Temperature in Kenya (1000m resolution) named <code>Kenya Mean Teperature.tif</code></li>
<li>Raster: Normalized Difference Vegetation Index in Kenya (1000m resolution) named <code>Kenya NDVI.tif</code></li>
<li>Raster: Precipitation in Kenya (1000m resolution) named <code>Kenya Precipitation.tif</code></li>
<li>Raster: Population Density in Kenya (1000m resolution) named <code>Kenya Population Density.tif</code></li>
<li>Raster: Land Surface Elevation in Kenya (1000m resolution) named <code>Kenya Elevation.tif</code></li>
<li>Raster: Levels of Dryness in Kenya (1000m resolution) named <code>Kenya Aridity Index.tif</code></li>
</ul>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="suitability-mapping-part-1.html#cb92-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;Kenya Mean Teperature.tif&quot;</span>)</span>
<span id="cb92-2"><a href="suitability-mapping-part-1.html#cb92-2" aria-hidden="true" tabindex="-1"></a>nvdi <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;Kenya NDVI.tif&quot;</span>)</span>
<span id="cb92-3"><a href="suitability-mapping-part-1.html#cb92-3" aria-hidden="true" tabindex="-1"></a>prec <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;Kenya Precipitation.tif&quot;</span>)</span>
<span id="cb92-4"><a href="suitability-mapping-part-1.html#cb92-4" aria-hidden="true" tabindex="-1"></a>popl <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;Kenya Population Density.tif&quot;</span>)</span>
<span id="cb92-5"><a href="suitability-mapping-part-1.html#cb92-5" aria-hidden="true" tabindex="-1"></a>elev <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;Kenya Elevation.tif&quot;</span>)</span>
<span id="cb92-6"><a href="suitability-mapping-part-1.html#cb92-6" aria-hidden="true" tabindex="-1"></a>arid <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;Kenya Aridity Index.tif&quot;</span>)</span>
<span id="cb92-7"><a href="suitability-mapping-part-1.html#cb92-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ignore those stupid warning messages as these are annoying as hell and are related to same migration/updates done on PROJ4 to PROJ6 - which I can&#39;t for the life of me figure out how to implement this bloody update.</span></span></code></pre></div>
<p>Load the shapefile nation and state borders for Kenya:</p>
<ul>
<li>Shape file: Kenya’s National border named <code>Kenya_Border_3857.shp</code></li>
<li>Shape file: Kenya’s State border named <code>Kenya_States_3857.shp</code></li>
</ul>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="suitability-mapping-part-1.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the shapefiles</span></span>
<span id="cb93-2"><a href="suitability-mapping-part-1.html#cb93-2" aria-hidden="true" tabindex="-1"></a>kenya_border <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;Kenya_Border_3857.shp&quot;</span>)</span>
<span id="cb93-3"><a href="suitability-mapping-part-1.html#cb93-3" aria-hidden="true" tabindex="-1"></a>kenya_states <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;Kenya_States_3857.shp&quot;</span>)</span></code></pre></div>
<div class="note">
<p><strong>IMPORTANT NOTES</strong>: All shape file and raster data were in projected to the CRS: Spherical mercator 3857</p>
</div>
<p>You can inspect each raster to know its dimension, extent, resolution and minimum and maximum values. Since are going to stack all the rasters together, you definitely want the: <code>dimension</code>, <code>extent</code> and <code>resolution</code> to be the same. If there’s a slight difference the stack won’t work.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="suitability-mapping-part-1.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for instance temp and aridity</span></span>
<span id="cb94-2"><a href="suitability-mapping-part-1.html#cb94-2" aria-hidden="true" tabindex="-1"></a>temp</span>
<span id="cb94-3"><a href="suitability-mapping-part-1.html#cb94-3" aria-hidden="true" tabindex="-1"></a>arid</span></code></pre></div>
<p>To visualize raster data - you can write the following code:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="suitability-mapping-part-1.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For instance take the mean temperature for Kenya</span></span>
<span id="cb95-2"><a href="suitability-mapping-part-1.html#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Spectral colours are useful for diverging scales &quot;Spectral&quot; is Rd-Or-Yl-Gr-Bu. &quot;-Spectral&quot; reverses the order</span></span>
<span id="cb95-3"><a href="suitability-mapping-part-1.html#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp) <span class="sc">+</span> <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;cont&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Mean Temperature&quot;</span>, <span class="at">palette=</span> <span class="st">&quot;-Spectral&quot;</span>) <span class="sc">+</span></span>
<span id="cb95-4"><a href="suitability-mapping-part-1.html#cb95-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(kenya_states) <span class="sc">+</span> <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">border.col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb95-5"><a href="suitability-mapping-part-1.html#cb95-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>, <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="images/general/week4/image1_1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="suitability-mapping-using-simple-overlays" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Suitability mapping using Simple Overlays<a href="suitability-mapping-part-1.html#suitability-mapping-using-simple-overlays" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="setting-up-binary-classification-on-raster" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Setting up binary classification on raster<a href="suitability-mapping-part-1.html#setting-up-binary-classification-on-raster" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One thing to know about this approach - the mappings are purely knowledge-driven and not analytical. For instance, according to previous studies (see example of papers: <a href="https://parasitesandvectors.biomedcentral.com/articles/10.1186/s13071-014-0466-x"><strong>1</strong></a> &amp; <a href="https://www.ajol.info/index.php/eamj/article/view/8950"><strong>2</strong></a>), we have learnt a bit about the limits or thresholds for these predictors from or below which we can consider an area being suitable for the occurrence of <strong>Lymphatic Filariasis (LF)</strong>.</p>
<p>We have summarized these limits or thresholds in a table as follows:</p>
<table>
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Risk factor</strong></th>
<th><strong>Threshold for suitability</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Temperature</code></td>
<td>&gt; 15.0 (degree Celsius)</td>
</tr>
<tr class="even">
<td><code>Precipitation</code></td>
<td>&gt; 350 (mm of rainfall)</td>
</tr>
<tr class="odd">
<td><code>Aridity</code></td>
<td>&gt; 0.20 (i.e., semi-arid (&gt; 0.5) dry sub-humid)</td>
</tr>
<tr class="even">
<td><code>Elevation</code></td>
<td>&lt; 1200m (low land)</td>
</tr>
<tr class="odd">
<td><code>Population Density</code></td>
<td>&gt; 0 (Inhabitants must exist source for blood meal)</td>
</tr>
<tr class="even">
<td><code>NDVI</code></td>
<td>&gt; 0.5 (mild levels of vegetation)</td>
</tr>
</tbody>
</table>
<p>We should use the aforementioned thresholds to produce binary or Boolean maps using the above criteria. This means that the pixel values of each raster layer will be equal to <code>0</code> indicating that its an unsuitable condition for LF transmission, and <code>1</code> for suitable conditions for LF transmission.</p>
<p>Let us reclassify each layer according to the above criteria, starting with temperature:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="suitability-mapping-part-1.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify temperature as a binary or Boolean layer</span></span>
<span id="cb96-2"><a href="suitability-mapping-part-1.html#cb96-2" aria-hidden="true" tabindex="-1"></a>temp</span>
<span id="cb96-3"><a href="suitability-mapping-part-1.html#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="co"># lowest value = 1.2</span></span>
<span id="cb96-4"><a href="suitability-mapping-part-1.html#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="co"># highest value = 29.6</span></span>
<span id="cb96-5"><a href="suitability-mapping-part-1.html#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify anything below 15 as 0 and above as 1</span></span>
<span id="cb96-6"><a href="suitability-mapping-part-1.html#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="co"># take the minimum value and minus 1 to it to ensure that lowest</span></span>
<span id="cb96-7"><a href="suitability-mapping-part-1.html#cb96-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ---value is included in the categorization for 0 </span></span>
<span id="cb96-8"><a href="suitability-mapping-part-1.html#cb96-8" aria-hidden="true" tabindex="-1"></a><span class="co"># take the maximum value and add 1 to it to also ensure that the highest </span></span>
<span id="cb96-9"><a href="suitability-mapping-part-1.html#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ---value is included in the categorization for 1</span></span>
<span id="cb96-10"><a href="suitability-mapping-part-1.html#cb96-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-11"><a href="suitability-mapping-part-1.html#cb96-11" aria-hidden="true" tabindex="-1"></a><span class="co"># c(from lowest value, to threshold, class as 0, from thresholds, to maximum value, class as 1)</span></span>
<span id="cb96-12"><a href="suitability-mapping-part-1.html#cb96-12" aria-hidden="true" tabindex="-1"></a>temp_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(temp<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, <span class="dv">15</span>, <span class="dv">0</span>, <span class="dv">15</span>, temp<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">1</span>) </span>
<span id="cb96-13"><a href="suitability-mapping-part-1.html#cb96-13" aria-hidden="true" tabindex="-1"></a><span class="co"># convert into a matrix format</span></span>
<span id="cb96-14"><a href="suitability-mapping-part-1.html#cb96-14" aria-hidden="true" tabindex="-1"></a>temp_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(temp_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb96-15"><a href="suitability-mapping-part-1.html#cb96-15" aria-hidden="true" tabindex="-1"></a><span class="co"># see matrix</span></span>
<span id="cb96-16"><a href="suitability-mapping-part-1.html#cb96-16" aria-hidden="true" tabindex="-1"></a>temp_cl_mat</span>
<span id="cb96-17"><a href="suitability-mapping-part-1.html#cb96-17" aria-hidden="true" tabindex="-1"></a><span class="co"># apply matrix to reclassify() function to categorize the raster accordingly</span></span>
<span id="cb96-18"><a href="suitability-mapping-part-1.html#cb96-18" aria-hidden="true" tabindex="-1"></a>temp_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(temp, temp_cl_mat)</span></code></pre></div>
<p>When you reclassify the raster for <code>temp</code> to <code>temp_recl</code>. This is what the output should look like:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="suitability-mapping-part-1.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp_recl) <span class="sc">+</span> <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;cat&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Temperature&quot;</span>, <span class="at">palette=</span> <span class="fu">c</span>(<span class="st">&quot;grey&quot;</span>, <span class="st">&quot;#F1948A&quot;</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Unsuitable (&lt;15.0)&quot;</span>, <span class="st">&quot;Suitable (15 &amp; above)&quot;</span>)) <span class="sc">+</span></span>
<span id="cb97-2"><a href="suitability-mapping-part-1.html#cb97-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(kenya_states) <span class="sc">+</span> <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">border.col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb97-3"><a href="suitability-mapping-part-1.html#cb97-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>, <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="images/general/week4/image2_1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Lets repeat the same steps for elevation to reclassify it’s layer according to the given criteria:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="suitability-mapping-part-1.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify elevation as a binary or Boolean layer</span></span>
<span id="cb98-2"><a href="suitability-mapping-part-1.html#cb98-2" aria-hidden="true" tabindex="-1"></a>elev</span>
<span id="cb98-3"><a href="suitability-mapping-part-1.html#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="co"># lowest value = -11m (below sea level)</span></span>
<span id="cb98-4"><a href="suitability-mapping-part-1.html#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co"># highest value = 4865m (above sea level)</span></span>
<span id="cb98-5"><a href="suitability-mapping-part-1.html#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify anything below 1200m as 1 and above as 0</span></span>
<span id="cb98-6"><a href="suitability-mapping-part-1.html#cb98-6" aria-hidden="true" tabindex="-1"></a><span class="co"># again, take the minimum value and minus 1 to it to </span></span>
<span id="cb98-7"><a href="suitability-mapping-part-1.html#cb98-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ---ensure that lowest value is included in the categorization for 0 </span></span>
<span id="cb98-8"><a href="suitability-mapping-part-1.html#cb98-8" aria-hidden="true" tabindex="-1"></a><span class="co"># again, take the maximum value and add 1 to it to also ensure that </span></span>
<span id="cb98-9"><a href="suitability-mapping-part-1.html#cb98-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ---the highest value is included in the categorization for 1</span></span>
<span id="cb98-10"><a href="suitability-mapping-part-1.html#cb98-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-11"><a href="suitability-mapping-part-1.html#cb98-11" aria-hidden="true" tabindex="-1"></a><span class="co"># c(from lowest value, to threshold, class as 1, from thresholds, to maximum value, class as 0)</span></span>
<span id="cb98-12"><a href="suitability-mapping-part-1.html#cb98-12" aria-hidden="true" tabindex="-1"></a>elev_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(elev<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, <span class="dv">1200</span>, <span class="dv">1</span>, <span class="dv">1200</span>, elev<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb98-13"><a href="suitability-mapping-part-1.html#cb98-13" aria-hidden="true" tabindex="-1"></a><span class="co"># convert into a matrix format</span></span>
<span id="cb98-14"><a href="suitability-mapping-part-1.html#cb98-14" aria-hidden="true" tabindex="-1"></a>elev_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(elev_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>) </span>
<span id="cb98-15"><a href="suitability-mapping-part-1.html#cb98-15" aria-hidden="true" tabindex="-1"></a><span class="co"># see matrix</span></span>
<span id="cb98-16"><a href="suitability-mapping-part-1.html#cb98-16" aria-hidden="true" tabindex="-1"></a>elev_cl_mat</span>
<span id="cb98-17"><a href="suitability-mapping-part-1.html#cb98-17" aria-hidden="true" tabindex="-1"></a><span class="co"># apply matrix to reclassify() function to categorize the raster accordingly</span></span>
<span id="cb98-18"><a href="suitability-mapping-part-1.html#cb98-18" aria-hidden="true" tabindex="-1"></a>elev_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(elev, elev_cl_mat)</span></code></pre></div>
<p>The elevation output should look something like:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="suitability-mapping-part-1.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(elev_recl) <span class="sc">+</span> <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;cat&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Elevation&quot;</span>, <span class="at">palette=</span> <span class="fu">c</span>(<span class="st">&quot;grey&quot;</span>, <span class="st">&quot;orange&quot;</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Unsuitable (&gt;1200m)&quot;</span>, <span class="st">&quot;Suitable (1200m &amp; below)&quot;</span>)) <span class="sc">+</span></span>
<span id="cb99-2"><a href="suitability-mapping-part-1.html#cb99-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(kenya_states) <span class="sc">+</span> <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">border.col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb99-3"><a href="suitability-mapping-part-1.html#cb99-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>, <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="images/general/week4/Image2_2.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Try reclassifying the remaining raster <code>arid</code>, <code>prec</code>, <code>popl</code> and <code>ndvi</code>. The solutions are provided in the code chunks below.</p>
<details>
<summary>
Click here
</summary>
<p><strong>Solutions</strong></p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="suitability-mapping-part-1.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># nvdi</span></span>
<span id="cb100-2"><a href="suitability-mapping-part-1.html#cb100-2" aria-hidden="true" tabindex="-1"></a>nvdi</span>
<span id="cb100-3"><a href="suitability-mapping-part-1.html#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="suitability-mapping-part-1.html#cb100-4" aria-hidden="true" tabindex="-1"></a>nvdi_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(nvdi<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, <span class="fl">0.5</span>, <span class="dv">0</span>, <span class="fl">0.5</span>, nvdi<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb100-5"><a href="suitability-mapping-part-1.html#cb100-5" aria-hidden="true" tabindex="-1"></a>nvdi_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(nvdi_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>); nvdi_cl_mat</span>
<span id="cb100-6"><a href="suitability-mapping-part-1.html#cb100-6" aria-hidden="true" tabindex="-1"></a>nvdi_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(nvdi, nvdi_cl_mat)</span>
<span id="cb100-7"><a href="suitability-mapping-part-1.html#cb100-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-8"><a href="suitability-mapping-part-1.html#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="co"># prec</span></span>
<span id="cb100-9"><a href="suitability-mapping-part-1.html#cb100-9" aria-hidden="true" tabindex="-1"></a>prec</span>
<span id="cb100-10"><a href="suitability-mapping-part-1.html#cb100-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-11"><a href="suitability-mapping-part-1.html#cb100-11" aria-hidden="true" tabindex="-1"></a>prec_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(prec<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, <span class="dv">350</span>, <span class="dv">0</span>, <span class="dv">350</span>, prec<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb100-12"><a href="suitability-mapping-part-1.html#cb100-12" aria-hidden="true" tabindex="-1"></a>prec_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(prec_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>); </span>
<span id="cb100-13"><a href="suitability-mapping-part-1.html#cb100-13" aria-hidden="true" tabindex="-1"></a>prec_cl_mat</span>
<span id="cb100-14"><a href="suitability-mapping-part-1.html#cb100-14" aria-hidden="true" tabindex="-1"></a>prec_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(prec, prec_cl_mat)</span>
<span id="cb100-15"><a href="suitability-mapping-part-1.html#cb100-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-16"><a href="suitability-mapping-part-1.html#cb100-16" aria-hidden="true" tabindex="-1"></a><span class="co"># popl</span></span>
<span id="cb100-17"><a href="suitability-mapping-part-1.html#cb100-17" aria-hidden="true" tabindex="-1"></a>popl</span>
<span id="cb100-18"><a href="suitability-mapping-part-1.html#cb100-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-19"><a href="suitability-mapping-part-1.html#cb100-19" aria-hidden="true" tabindex="-1"></a>popl_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(popl<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, popl<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb100-20"><a href="suitability-mapping-part-1.html#cb100-20" aria-hidden="true" tabindex="-1"></a>popl_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(popl_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb100-21"><a href="suitability-mapping-part-1.html#cb100-21" aria-hidden="true" tabindex="-1"></a>popl_cl_mat</span>
<span id="cb100-22"><a href="suitability-mapping-part-1.html#cb100-22" aria-hidden="true" tabindex="-1"></a>popl_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(popl , popl_cl_mat)</span>
<span id="cb100-23"><a href="suitability-mapping-part-1.html#cb100-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-24"><a href="suitability-mapping-part-1.html#cb100-24" aria-hidden="true" tabindex="-1"></a><span class="co"># arid</span></span>
<span id="cb100-25"><a href="suitability-mapping-part-1.html#cb100-25" aria-hidden="true" tabindex="-1"></a>arid</span>
<span id="cb100-26"><a href="suitability-mapping-part-1.html#cb100-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-27"><a href="suitability-mapping-part-1.html#cb100-27" aria-hidden="true" tabindex="-1"></a>arid_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(arid<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, <span class="fl">0.20</span>, <span class="dv">0</span>, <span class="fl">0.20</span>, arid<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb100-28"><a href="suitability-mapping-part-1.html#cb100-28" aria-hidden="true" tabindex="-1"></a>arid_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(arid_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb100-29"><a href="suitability-mapping-part-1.html#cb100-29" aria-hidden="true" tabindex="-1"></a>arid_cl_mat</span>
<span id="cb100-30"><a href="suitability-mapping-part-1.html#cb100-30" aria-hidden="true" tabindex="-1"></a>arid_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(arid, arid_cl_mat)</span></code></pre></div>
</details>
</div>
<div id="finding-areas-of-suitability-by-multiplying-the-binary-rasters" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Finding areas of suitability by multiplying the binary rasters<a href="suitability-mapping-part-1.html#finding-areas-of-suitability-by-multiplying-the-binary-rasters" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can identify the environmentally suitable areas for occurrence of <strong>LF</strong> by simply multiplying the binary maps. Therefore, only the cells or areas with the value of <code>1</code> will be kept in the output raster layer. You can do this by writing the following formula:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="suitability-mapping-part-1.html#cb101-1" aria-hidden="true" tabindex="-1"></a>Suitable_LF_Binary <span class="ot">&lt;-</span> temp_recl<span class="sc">*</span>nvdi_recl<span class="sc">*</span>prec_recl<span class="sc">*</span>elev_recl<span class="sc">*</span>popl_recl<span class="sc">*</span>arid_recl</span></code></pre></div>
<p>Visualizing the output:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="suitability-mapping-part-1.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(Suitable_LF_Binary) <span class="sc">+</span> <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;cat&quot;</span>, <span class="at">title =</span> <span class="st">&quot;&quot;</span>, <span class="at">palette=</span><span class="fu">c</span>(<span class="st">&quot;#f0f0f0&quot;</span>, <span class="st">&quot;red&quot;</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;Zone: Not Suitable&quot;</span>, <span class="st">&quot;Zone: Highly Suitable&quot;</span>)) <span class="sc">+</span></span>
<span id="cb102-2"><a href="suitability-mapping-part-1.html#cb102-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(kenya_states) <span class="sc">+</span> <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">border.col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb102-3"><a href="suitability-mapping-part-1.html#cb102-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>, <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="images/general/week4/Image2_3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="note">
<p><strong>IMPORTANT NOTES</strong>: Red region corresponds to areas that are highly suitable for LF. South East of Kenya (i.e., Kwale, Kilifi and Lamu) are environmental suitable based on binary classification</p>
</div>
</div>
<div id="finding-areas-of-suitability-by-summing-the-binary-rasters" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Finding areas of suitability by summing the binary rasters<a href="suitability-mapping-part-1.html#finding-areas-of-suitability-by-summing-the-binary-rasters" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can identify the environmentally suitable areas for occurrence of <strong>LF</strong> by simply summing the binary maps generate ratings for each pixel to show the intensity of suitability for <strong>LF</strong>. A pixel with a summed value would mean the following:</p>
<ul>
<li><code>0</code> would mean that none of the six factors are present at pixel.</li>
<li><code>1</code> would mean at least one out of the six factors are present at that pixel.</li>
<li><code>2</code> would mean at least two out of the six risk factors are present at that pixel (and so on…)</li>
<li><code>6</code> is the maximum meaning that all factors are present there. Therefore, pixel is rated as the highest levels of suitability for LF.</li>
</ul>
<p>To sum up the raster, we would first need to use the <code>stack()</code> function before using the <code>calc()</code> for the summation.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="suitability-mapping-part-1.html#cb103-1" aria-hidden="true" tabindex="-1"></a>RasterStack <span class="ot">&lt;-</span> <span class="fu">stack</span>(temp_recl, nvdi_recl, prec_recl, elev_recl, popl_recl, arid_recl)</span>
<span id="cb103-2"><a href="suitability-mapping-part-1.html#cb103-2" aria-hidden="true" tabindex="-1"></a>Suitable_LF_Summed <span class="ot">&lt;-</span> <span class="fu">calc</span>(RasterStack, sum)</span>
<span id="cb103-3"><a href="suitability-mapping-part-1.html#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="co"># check for minimum and maximum</span></span>
<span id="cb103-4"><a href="suitability-mapping-part-1.html#cb103-4" aria-hidden="true" tabindex="-1"></a>Suitable_LF_Summed<span class="sc">@</span>data<span class="sc">@</span>min</span>
<span id="cb103-5"><a href="suitability-mapping-part-1.html#cb103-5" aria-hidden="true" tabindex="-1"></a>Suitable_LF_Summed<span class="sc">@</span>data<span class="sc">@</span>max</span>
<span id="cb103-6"><a href="suitability-mapping-part-1.html#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="co"># minimum = 2</span></span>
<span id="cb103-7"><a href="suitability-mapping-part-1.html#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="co"># maximum = 6</span></span></code></pre></div>
<p>Visualizing the output:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="suitability-mapping-part-1.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(Suitable_LF_Summed) <span class="sc">+</span> <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;cat&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Suitability score&quot;</span>, <span class="at">palette=</span><span class="fu">c</span>(<span class="st">&quot;#FDFEFE&quot;</span>, <span class="st">&quot;#FADBD8&quot;</span>, <span class="st">&quot;#F5B7B1&quot;</span>, <span class="st">&quot;#F1948A&quot;</span>, <span class="st">&quot;#E74C3C&quot;</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;Low (2)&quot;</span>, <span class="st">&quot;Modest (3)&quot;</span>, <span class="st">&quot;Medium (4)&quot;</span>, <span class="st">&quot;High (5)&quot;</span>, <span class="st">&quot;Highest (6)&quot;</span>)) <span class="sc">+</span></span>
<span id="cb104-2"><a href="suitability-mapping-part-1.html#cb104-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(kenya_states) <span class="sc">+</span> <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">border.col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> <span class="fu">tm_text</span>(<span class="st">&quot;NAME_1&quot;</span>, <span class="at">size =</span> <span class="st">&quot;AREA&quot;</span>) <span class="sc">+</span></span>
<span id="cb104-3"><a href="suitability-mapping-part-1.html#cb104-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>, <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="images/general/week4/Image2_4.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="note">
<p><strong>IMPORTANT NOTES</strong>: Using this approach allows the user to see of the fly the intensity for LF suitability. States such as Mandera, Wajir, Isiolo and Turkana have areas that have largely low or modest ratings for LF suitability. Whereas, again the highly suitable areas for LF are the South East states (i.e., Kwale, Kilifi and Lamu).</p>
</div>
<p>The rating approach is much better because you can see the intensity for LF suitability. Both approaches highly accessible especially for data and public health program managers in sub-Saharan Africa. These kinds of maps are particularly useful to optimize resources (especially within a low-resource setting) for identifying high-risk areas through knowledge-driven approach (and averting to survey potential unsuitable areas to not wasting limited resources).</p>
<p>This approach is great for descriptive knowledge-based decision analysis; however, it does not take into account the factor that certain variables have more importance than others. For instance, <code>precipitation</code> is significantly more important than <code>NDVI</code> because elevated levels of rainfall has a positive impact on a mosquitoes’ survival lifespan and it provides an reservoir for female mosquitoes to breed in standing water. Higher rainfall within a densely populated environment provides not only a breeding ground, but a location closer to their food source (i.e., human and animal blood). Thus, <code>population density</code> is important an factor above <code>NDVI</code> but not as important as <code>precipitation</code> (i.e., high importance: <code>precipitation</code> &gt; <code>population density</code> &gt; <code>NDVI</code> :less importance).</p>
<p>We can take this into account by applying weights for each variable determined by importance for the MCDA process - this approach is referred to as the Saaty’s Analytical Hierarchy Process (AHP). Let us see how we apply this methodology.</p>
</div>
</div>
<div id="analytical-hierarchy-process-ahp" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Analytical Hierarchy Process (AHP)<a href="suitability-mapping-part-1.html#analytical-hierarchy-process-ahp" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="standardizing-the-raster-variables-to-the-same-scale-from-1-to-10" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Standardizing the raster variables to the same scale (from 1 to 10)<a href="suitability-mapping-part-1.html#standardizing-the-raster-variables-to-the-same-scale-from-1-to-10" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are going to use <strong>Saaty’s Analytical Hierarchy Process (AHP)</strong>. We will need to standardize our raster factors in order to make comparisons and combination possible, as all of them contain different measures: <code>temp</code> (degree Celsius), <code>prec</code> (mm), <code>elev</code> (meters), <code>popl</code> (counts/sqkm); while <code>nvdi</code> and <code>arid</code> are derived indices without any units. Before deriving the weights and applying to the equation that is a linear combination of the above variables to estimate the suitability index for LF, we can standardize them using the <code>Jenks Natural Breaks</code> algorithm.</p>
<div class="note">
<p><strong>IMPORTANT NOTES</strong>: <code>Jenks Natural Breaks</code> algorithm is the preferred approach because it calculates the optimum breakpoints while seeking to minimize the variance within categories, and at the same time maximizing the variance between categories.</p>
</div>
<p>Let’s begin to standardize the first variable <code>temp</code>. There is a bit of data cleaning involved - here is the code for to calculate the breaks using Jenks algorithm to get the raster scales from 1 to 10.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="suitability-mapping-part-1.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cleaning for temp</span></span>
<span id="cb105-2"><a href="suitability-mapping-part-1.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract values from Raster</span></span>
<span id="cb105-3"><a href="suitability-mapping-part-1.html#cb105-3" aria-hidden="true" tabindex="-1"></a>tempValues <span class="ot">&lt;-</span> <span class="fu">values</span>(temp) </span>
<span id="cb105-4"><a href="suitability-mapping-part-1.html#cb105-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-5"><a href="suitability-mapping-part-1.html#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the values from vector object to data.frame object</span></span>
<span id="cb105-6"><a href="suitability-mapping-part-1.html#cb105-6" aria-hidden="true" tabindex="-1"></a>tempDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tempValues)</span>
<span id="cb105-7"><a href="suitability-mapping-part-1.html#cb105-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-8"><a href="suitability-mapping-part-1.html#cb105-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove missing values and reapply column name</span></span>
<span id="cb105-9"><a href="suitability-mapping-part-1.html#cb105-9" aria-hidden="true" tabindex="-1"></a>tempDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tempDF[<span class="sc">!</span><span class="fu">is.na</span>(tempDF<span class="sc">$</span>tempValues),])</span>
<span id="cb105-10"><a href="suitability-mapping-part-1.html#cb105-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tempDF) <span class="ot">&lt;-</span> <span class="st">&quot;tempValues&quot;</span></span>
<span id="cb105-11"><a href="suitability-mapping-part-1.html#cb105-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-12"><a href="suitability-mapping-part-1.html#cb105-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the getJenksBreaks() function. Sample 0.10 (10%) of the pixels </span></span>
<span id="cb105-13"><a href="suitability-mapping-part-1.html#cb105-13" aria-hidden="true" tabindex="-1"></a><span class="co">#---at random and base the categorisation on this. </span></span>
<span id="cb105-14"><a href="suitability-mapping-part-1.html#cb105-14" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Doing this on the full data will take forever - so use the subset argument. </span></span>
<span id="cb105-15"><a href="suitability-mapping-part-1.html#cb105-15" aria-hidden="true" tabindex="-1"></a>tempJenks <span class="ot">&lt;-</span> <span class="fu">getJenksBreaks</span>(tempDF<span class="sc">$</span>tempValues, <span class="dv">10</span>, <span class="at">subset =</span> <span class="fu">nrow</span>(tempDF)<span class="sc">*</span><span class="fl">0.10</span>)</span>
<span id="cb105-16"><a href="suitability-mapping-part-1.html#cb105-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-17"><a href="suitability-mapping-part-1.html#cb105-17" aria-hidden="true" tabindex="-1"></a><span class="co"># See value in vector</span></span>
<span id="cb105-18"><a href="suitability-mapping-part-1.html#cb105-18" aria-hidden="true" tabindex="-1"></a>tempJenks</span>
<span id="cb105-19"><a href="suitability-mapping-part-1.html#cb105-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-20"><a href="suitability-mapping-part-1.html#cb105-20" aria-hidden="true" tabindex="-1"></a><span class="co"># shows first element</span></span>
<span id="cb105-21"><a href="suitability-mapping-part-1.html#cb105-21" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">1</span>] </span>
<span id="cb105-22"><a href="suitability-mapping-part-1.html#cb105-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-23"><a href="suitability-mapping-part-1.html#cb105-23" aria-hidden="true" tabindex="-1"></a><span class="co"># shows second element</span></span>
<span id="cb105-24"><a href="suitability-mapping-part-1.html#cb105-24" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">2</span>] </span>
<span id="cb105-25"><a href="suitability-mapping-part-1.html#cb105-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-26"><a href="suitability-mapping-part-1.html#cb105-26" aria-hidden="true" tabindex="-1"></a><span class="co"># so on and so further...</span></span>
<span id="cb105-27"><a href="suitability-mapping-part-1.html#cb105-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create categorisation by using the Jenks values in the vector</span></span>
<span id="cb105-28"><a href="suitability-mapping-part-1.html#cb105-28" aria-hidden="true" tabindex="-1"></a>temp_jenks_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(temp<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, tempJenks[<span class="dv">1</span>], <span class="dv">1</span>,</span>
<span id="cb105-29"><a href="suitability-mapping-part-1.html#cb105-29" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">1</span>], tempJenks[<span class="dv">2</span>], <span class="dv">2</span>,</span>
<span id="cb105-30"><a href="suitability-mapping-part-1.html#cb105-30" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">2</span>], tempJenks[<span class="dv">3</span>], <span class="dv">3</span>,</span>
<span id="cb105-31"><a href="suitability-mapping-part-1.html#cb105-31" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">3</span>], tempJenks[<span class="dv">4</span>], <span class="dv">4</span>,</span>
<span id="cb105-32"><a href="suitability-mapping-part-1.html#cb105-32" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">4</span>], tempJenks[<span class="dv">5</span>], <span class="dv">5</span>,</span>
<span id="cb105-33"><a href="suitability-mapping-part-1.html#cb105-33" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">5</span>], tempJenks[<span class="dv">6</span>], <span class="dv">6</span>,</span>
<span id="cb105-34"><a href="suitability-mapping-part-1.html#cb105-34" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">6</span>], tempJenks[<span class="dv">7</span>], <span class="dv">7</span>,</span>
<span id="cb105-35"><a href="suitability-mapping-part-1.html#cb105-35" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">7</span>], tempJenks[<span class="dv">8</span>], <span class="dv">8</span>,</span>
<span id="cb105-36"><a href="suitability-mapping-part-1.html#cb105-36" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">8</span>], tempJenks[<span class="dv">9</span>], <span class="dv">9</span>,</span>
<span id="cb105-37"><a href="suitability-mapping-part-1.html#cb105-37" aria-hidden="true" tabindex="-1"></a>tempJenks[<span class="dv">9</span>], temp<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">10</span>) </span>
<span id="cb105-38"><a href="suitability-mapping-part-1.html#cb105-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-39"><a href="suitability-mapping-part-1.html#cb105-39" aria-hidden="true" tabindex="-1"></a><span class="co"># create matrix</span></span>
<span id="cb105-40"><a href="suitability-mapping-part-1.html#cb105-40" aria-hidden="true" tabindex="-1"></a>temp_jenks_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(temp_jenks_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb105-41"><a href="suitability-mapping-part-1.html#cb105-41" aria-hidden="true" tabindex="-1"></a><span class="co"># view categorisation in matrix</span></span>
<span id="cb105-42"><a href="suitability-mapping-part-1.html#cb105-42" aria-hidden="true" tabindex="-1"></a>temp_jenks_cl_mat</span>
<span id="cb105-43"><a href="suitability-mapping-part-1.html#cb105-43" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify original raster using the jenks classifications</span></span>
<span id="cb105-44"><a href="suitability-mapping-part-1.html#cb105-44" aria-hidden="true" tabindex="-1"></a>temp_jenks_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(temp, temp_jenks_cl_mat)</span></code></pre></div>
<p>Visualize the output with the scale from 1 to 10:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="suitability-mapping-part-1.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(temp_jenks_recl) <span class="sc">+</span> <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;cont&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Temp (on Jenks scale)&quot;</span>, <span class="at">palette=</span> <span class="st">&quot;-Spectral&quot;</span>) <span class="sc">+</span></span>
<span id="cb106-2"><a href="suitability-mapping-part-1.html#cb106-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(kenya_states) <span class="sc">+</span> <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">border.col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb106-3"><a href="suitability-mapping-part-1.html#cb106-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>, <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="images/general/week4/Image3_1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>We need to repeat this process of reclassification and standardization using natural breaks for the remaining raster grids for <code>prec</code>, <code>arid</code>, <code>popl</code> and <code>ndvi</code>. The solutions are provided in the hidden code chunks below. For <code>elev</code>, we will treat this differently.</p>
<details>
<summary>
Click here
</summary>
<p><strong>Solutions</strong></p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="suitability-mapping-part-1.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 prec</span></span>
<span id="cb107-2"><a href="suitability-mapping-part-1.html#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract values from Raster</span></span>
<span id="cb107-3"><a href="suitability-mapping-part-1.html#cb107-3" aria-hidden="true" tabindex="-1"></a>precValues <span class="ot">&lt;-</span> <span class="fu">values</span>(prec) </span>
<span id="cb107-4"><a href="suitability-mapping-part-1.html#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the values from vector object to data.frame object</span></span>
<span id="cb107-5"><a href="suitability-mapping-part-1.html#cb107-5" aria-hidden="true" tabindex="-1"></a>precDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(precValues)</span>
<span id="cb107-6"><a href="suitability-mapping-part-1.html#cb107-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove missing values and reapply column name</span></span>
<span id="cb107-7"><a href="suitability-mapping-part-1.html#cb107-7" aria-hidden="true" tabindex="-1"></a>precDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(precDF[<span class="sc">!</span><span class="fu">is.na</span>(precDF<span class="sc">$</span>precValues),])</span>
<span id="cb107-8"><a href="suitability-mapping-part-1.html#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(precDF) <span class="ot">&lt;-</span> <span class="st">&quot;precValues&quot;</span></span>
<span id="cb107-9"><a href="suitability-mapping-part-1.html#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the getJenksBreaks() function. Sample 0.10 (10%) of the pixels at random and base the categorisation on this. </span></span>
<span id="cb107-10"><a href="suitability-mapping-part-1.html#cb107-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Doing this on the full data will take forever - so use the subset argument. </span></span>
<span id="cb107-11"><a href="suitability-mapping-part-1.html#cb107-11" aria-hidden="true" tabindex="-1"></a>precJenks <span class="ot">&lt;-</span> <span class="fu">getJenksBreaks</span>(precDF<span class="sc">$</span>precValues, <span class="dv">10</span>, <span class="at">subset =</span> <span class="fu">nrow</span>(precDF)<span class="sc">*</span><span class="fl">0.10</span>)</span>
<span id="cb107-12"><a href="suitability-mapping-part-1.html#cb107-12" aria-hidden="true" tabindex="-1"></a><span class="co"># See value in vector</span></span>
<span id="cb107-13"><a href="suitability-mapping-part-1.html#cb107-13" aria-hidden="true" tabindex="-1"></a>precJenks</span>
<span id="cb107-14"><a href="suitability-mapping-part-1.html#cb107-14" aria-hidden="true" tabindex="-1"></a><span class="co"># shows first element</span></span>
<span id="cb107-15"><a href="suitability-mapping-part-1.html#cb107-15" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">1</span>] </span>
<span id="cb107-16"><a href="suitability-mapping-part-1.html#cb107-16" aria-hidden="true" tabindex="-1"></a><span class="co"># shows second element</span></span>
<span id="cb107-17"><a href="suitability-mapping-part-1.html#cb107-17" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">2</span>] </span>
<span id="cb107-18"><a href="suitability-mapping-part-1.html#cb107-18" aria-hidden="true" tabindex="-1"></a><span class="co"># so on and so further...</span></span>
<span id="cb107-19"><a href="suitability-mapping-part-1.html#cb107-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create categorisation by using the Jenks values in the vector</span></span>
<span id="cb107-20"><a href="suitability-mapping-part-1.html#cb107-20" aria-hidden="true" tabindex="-1"></a>prec_jenks_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(prec<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, precJenks[<span class="dv">1</span>], <span class="dv">1</span>,</span>
<span id="cb107-21"><a href="suitability-mapping-part-1.html#cb107-21" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">1</span>], precJenks[<span class="dv">2</span>], <span class="dv">2</span>,</span>
<span id="cb107-22"><a href="suitability-mapping-part-1.html#cb107-22" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">2</span>], precJenks[<span class="dv">3</span>], <span class="dv">3</span>,</span>
<span id="cb107-23"><a href="suitability-mapping-part-1.html#cb107-23" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">3</span>], precJenks[<span class="dv">4</span>], <span class="dv">4</span>,</span>
<span id="cb107-24"><a href="suitability-mapping-part-1.html#cb107-24" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">4</span>], precJenks[<span class="dv">5</span>], <span class="dv">5</span>,</span>
<span id="cb107-25"><a href="suitability-mapping-part-1.html#cb107-25" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">5</span>], precJenks[<span class="dv">6</span>], <span class="dv">6</span>,</span>
<span id="cb107-26"><a href="suitability-mapping-part-1.html#cb107-26" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">6</span>], precJenks[<span class="dv">7</span>], <span class="dv">7</span>,</span>
<span id="cb107-27"><a href="suitability-mapping-part-1.html#cb107-27" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">7</span>], precJenks[<span class="dv">8</span>], <span class="dv">8</span>,</span>
<span id="cb107-28"><a href="suitability-mapping-part-1.html#cb107-28" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">8</span>], precJenks[<span class="dv">9</span>], <span class="dv">9</span>,</span>
<span id="cb107-29"><a href="suitability-mapping-part-1.html#cb107-29" aria-hidden="true" tabindex="-1"></a>precJenks[<span class="dv">9</span>], prec<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">10</span>) </span>
<span id="cb107-30"><a href="suitability-mapping-part-1.html#cb107-30" aria-hidden="true" tabindex="-1"></a><span class="co"># create matrix</span></span>
<span id="cb107-31"><a href="suitability-mapping-part-1.html#cb107-31" aria-hidden="true" tabindex="-1"></a>prec_jenks_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(prec_jenks_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb107-32"><a href="suitability-mapping-part-1.html#cb107-32" aria-hidden="true" tabindex="-1"></a><span class="co"># view categorisation in matrix</span></span>
<span id="cb107-33"><a href="suitability-mapping-part-1.html#cb107-33" aria-hidden="true" tabindex="-1"></a>prec_jenks_cl_mat</span>
<span id="cb107-34"><a href="suitability-mapping-part-1.html#cb107-34" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify original raster using the jenks classifications</span></span>
<span id="cb107-35"><a href="suitability-mapping-part-1.html#cb107-35" aria-hidden="true" tabindex="-1"></a>prec_jenks_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(prec, prec_jenks_cl_mat)</span>
<span id="cb107-36"><a href="suitability-mapping-part-1.html#cb107-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-37"><a href="suitability-mapping-part-1.html#cb107-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-38"><a href="suitability-mapping-part-1.html#cb107-38" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. popl</span></span>
<span id="cb107-39"><a href="suitability-mapping-part-1.html#cb107-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract values from Raster</span></span>
<span id="cb107-40"><a href="suitability-mapping-part-1.html#cb107-40" aria-hidden="true" tabindex="-1"></a>poplValues <span class="ot">&lt;-</span> <span class="fu">values</span>(popl)</span>
<span id="cb107-41"><a href="suitability-mapping-part-1.html#cb107-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the values from vector object to data.frame object</span></span>
<span id="cb107-42"><a href="suitability-mapping-part-1.html#cb107-42" aria-hidden="true" tabindex="-1"></a>poplDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(poplValues)</span>
<span id="cb107-43"><a href="suitability-mapping-part-1.html#cb107-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove missing values and reapply column name</span></span>
<span id="cb107-44"><a href="suitability-mapping-part-1.html#cb107-44" aria-hidden="true" tabindex="-1"></a>poplDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(poplDF[<span class="sc">!</span><span class="fu">is.na</span>(poplDF<span class="sc">$</span>poplValues),])</span>
<span id="cb107-45"><a href="suitability-mapping-part-1.html#cb107-45" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(poplDF) <span class="ot">&lt;-</span> <span class="st">&quot;poplValues&quot;</span></span>
<span id="cb107-46"><a href="suitability-mapping-part-1.html#cb107-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the getJenksBreaks() function. Sample 0.10 (10%) of the pixels at random and base the categorisation on this. </span></span>
<span id="cb107-47"><a href="suitability-mapping-part-1.html#cb107-47" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Doing this on the full data will take forever - so use the subset argument. </span></span>
<span id="cb107-48"><a href="suitability-mapping-part-1.html#cb107-48" aria-hidden="true" tabindex="-1"></a>poplJenks <span class="ot">&lt;-</span> <span class="fu">getJenksBreaks</span>(poplDF<span class="sc">$</span>poplValues, <span class="dv">10</span>, <span class="at">subset =</span> <span class="fu">nrow</span>(poplDF)<span class="sc">*</span><span class="fl">0.10</span>)</span>
<span id="cb107-49"><a href="suitability-mapping-part-1.html#cb107-49" aria-hidden="true" tabindex="-1"></a><span class="co"># See value in vector</span></span>
<span id="cb107-50"><a href="suitability-mapping-part-1.html#cb107-50" aria-hidden="true" tabindex="-1"></a>poplJenks</span>
<span id="cb107-51"><a href="suitability-mapping-part-1.html#cb107-51" aria-hidden="true" tabindex="-1"></a><span class="co"># shows first element</span></span>
<span id="cb107-52"><a href="suitability-mapping-part-1.html#cb107-52" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">1</span>] </span>
<span id="cb107-53"><a href="suitability-mapping-part-1.html#cb107-53" aria-hidden="true" tabindex="-1"></a><span class="co"># shows second element</span></span>
<span id="cb107-54"><a href="suitability-mapping-part-1.html#cb107-54" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">2</span>] </span>
<span id="cb107-55"><a href="suitability-mapping-part-1.html#cb107-55" aria-hidden="true" tabindex="-1"></a><span class="co"># so on and so further...</span></span>
<span id="cb107-56"><a href="suitability-mapping-part-1.html#cb107-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Create categorisation by using the Jenks values in the vector</span></span>
<span id="cb107-57"><a href="suitability-mapping-part-1.html#cb107-57" aria-hidden="true" tabindex="-1"></a>popl_jenks_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(popl<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, poplJenks[<span class="dv">1</span>], <span class="dv">1</span>,</span>
<span id="cb107-58"><a href="suitability-mapping-part-1.html#cb107-58" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">1</span>], poplJenks[<span class="dv">2</span>], <span class="dv">2</span>,</span>
<span id="cb107-59"><a href="suitability-mapping-part-1.html#cb107-59" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">2</span>], poplJenks[<span class="dv">3</span>], <span class="dv">3</span>,</span>
<span id="cb107-60"><a href="suitability-mapping-part-1.html#cb107-60" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">3</span>], poplJenks[<span class="dv">4</span>], <span class="dv">4</span>,</span>
<span id="cb107-61"><a href="suitability-mapping-part-1.html#cb107-61" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">4</span>], poplJenks[<span class="dv">5</span>], <span class="dv">5</span>,</span>
<span id="cb107-62"><a href="suitability-mapping-part-1.html#cb107-62" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">5</span>], poplJenks[<span class="dv">6</span>], <span class="dv">6</span>,</span>
<span id="cb107-63"><a href="suitability-mapping-part-1.html#cb107-63" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">6</span>], poplJenks[<span class="dv">7</span>], <span class="dv">7</span>,</span>
<span id="cb107-64"><a href="suitability-mapping-part-1.html#cb107-64" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">7</span>], poplJenks[<span class="dv">8</span>], <span class="dv">8</span>,</span>
<span id="cb107-65"><a href="suitability-mapping-part-1.html#cb107-65" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">8</span>], poplJenks[<span class="dv">9</span>], <span class="dv">9</span>,</span>
<span id="cb107-66"><a href="suitability-mapping-part-1.html#cb107-66" aria-hidden="true" tabindex="-1"></a>poplJenks[<span class="dv">9</span>], popl<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">10</span>) </span>
<span id="cb107-67"><a href="suitability-mapping-part-1.html#cb107-67" aria-hidden="true" tabindex="-1"></a><span class="co"># create matrix</span></span>
<span id="cb107-68"><a href="suitability-mapping-part-1.html#cb107-68" aria-hidden="true" tabindex="-1"></a>popl_jenks_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(popl_jenks_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb107-69"><a href="suitability-mapping-part-1.html#cb107-69" aria-hidden="true" tabindex="-1"></a><span class="co"># view categorisation in matrix</span></span>
<span id="cb107-70"><a href="suitability-mapping-part-1.html#cb107-70" aria-hidden="true" tabindex="-1"></a>popl_jenks_cl_mat</span>
<span id="cb107-71"><a href="suitability-mapping-part-1.html#cb107-71" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify original raster using the jenks classifications</span></span>
<span id="cb107-72"><a href="suitability-mapping-part-1.html#cb107-72" aria-hidden="true" tabindex="-1"></a>popl_jenks_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(popl, popl_jenks_cl_mat)</span>
<span id="cb107-73"><a href="suitability-mapping-part-1.html#cb107-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-74"><a href="suitability-mapping-part-1.html#cb107-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-75"><a href="suitability-mapping-part-1.html#cb107-75" aria-hidden="true" tabindex="-1"></a><span class="co"># 4 nvdi</span></span>
<span id="cb107-76"><a href="suitability-mapping-part-1.html#cb107-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract values from Raster</span></span>
<span id="cb107-77"><a href="suitability-mapping-part-1.html#cb107-77" aria-hidden="true" tabindex="-1"></a>nvdiValues <span class="ot">&lt;-</span> <span class="fu">values</span>(nvdi) </span>
<span id="cb107-78"><a href="suitability-mapping-part-1.html#cb107-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the values from vector object to data.frame object</span></span>
<span id="cb107-79"><a href="suitability-mapping-part-1.html#cb107-79" aria-hidden="true" tabindex="-1"></a>nvdiDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(nvdiValues)</span>
<span id="cb107-80"><a href="suitability-mapping-part-1.html#cb107-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove missing values and reapply column name</span></span>
<span id="cb107-81"><a href="suitability-mapping-part-1.html#cb107-81" aria-hidden="true" tabindex="-1"></a>nvdiDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(nvdiDF[<span class="sc">!</span><span class="fu">is.na</span>(nvdiDF<span class="sc">$</span>nvdiValues),])</span>
<span id="cb107-82"><a href="suitability-mapping-part-1.html#cb107-82" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nvdiDF) <span class="ot">&lt;-</span> <span class="st">&quot;nvdiValues&quot;</span></span>
<span id="cb107-83"><a href="suitability-mapping-part-1.html#cb107-83" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the getJenksBreaks() function. Sample 0.10 (10%) of the pixels at random and base the categorisation on this. </span></span>
<span id="cb107-84"><a href="suitability-mapping-part-1.html#cb107-84" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Doing this on the full data will take forever - so use the subset argument. </span></span>
<span id="cb107-85"><a href="suitability-mapping-part-1.html#cb107-85" aria-hidden="true" tabindex="-1"></a><span class="co"># EXTRA </span><span class="al">NOTE</span><span class="co">: The values for nvdi are very close to each other and so the algorithm splits it to just two cateogries</span></span>
<span id="cb107-86"><a href="suitability-mapping-part-1.html#cb107-86" aria-hidden="true" tabindex="-1"></a>nvdiJenks <span class="ot">&lt;-</span> <span class="fu">getJenksBreaks</span>(nvdiDF<span class="sc">$</span>tempValues, <span class="dv">2</span>, <span class="at">subset =</span> <span class="fu">nrow</span>(nvdiDF)<span class="sc">*</span><span class="fl">0.10</span>)</span>
<span id="cb107-87"><a href="suitability-mapping-part-1.html#cb107-87" aria-hidden="true" tabindex="-1"></a><span class="co"># See value in vector</span></span>
<span id="cb107-88"><a href="suitability-mapping-part-1.html#cb107-88" aria-hidden="true" tabindex="-1"></a>nvdiJenks</span>
<span id="cb107-89"><a href="suitability-mapping-part-1.html#cb107-89" aria-hidden="true" tabindex="-1"></a><span class="co"># shows first element</span></span>
<span id="cb107-90"><a href="suitability-mapping-part-1.html#cb107-90" aria-hidden="true" tabindex="-1"></a>nvdiJenks[<span class="dv">1</span>] </span>
<span id="cb107-91"><a href="suitability-mapping-part-1.html#cb107-91" aria-hidden="true" tabindex="-1"></a><span class="co"># shows second element</span></span>
<span id="cb107-92"><a href="suitability-mapping-part-1.html#cb107-92" aria-hidden="true" tabindex="-1"></a>nvdiJenks[<span class="dv">2</span>] </span>
<span id="cb107-93"><a href="suitability-mapping-part-1.html#cb107-93" aria-hidden="true" tabindex="-1"></a><span class="co"># so on and so further...</span></span>
<span id="cb107-94"><a href="suitability-mapping-part-1.html#cb107-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Create categorisation by using the Jenks values in the vector</span></span>
<span id="cb107-95"><a href="suitability-mapping-part-1.html#cb107-95" aria-hidden="true" tabindex="-1"></a>nvdi_jenks_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(nvdi<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, nvdiJenks[<span class="dv">1</span>], <span class="dv">1</span>,</span>
<span id="cb107-96"><a href="suitability-mapping-part-1.html#cb107-96" aria-hidden="true" tabindex="-1"></a>nvdiJenks[<span class="dv">1</span>], nvdi<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb107-97"><a href="suitability-mapping-part-1.html#cb107-97" aria-hidden="true" tabindex="-1"></a><span class="co"># create matrix</span></span>
<span id="cb107-98"><a href="suitability-mapping-part-1.html#cb107-98" aria-hidden="true" tabindex="-1"></a>nvdi_jenks_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(nvdi_jenks_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb107-99"><a href="suitability-mapping-part-1.html#cb107-99" aria-hidden="true" tabindex="-1"></a><span class="co"># view categorisation in matrix</span></span>
<span id="cb107-100"><a href="suitability-mapping-part-1.html#cb107-100" aria-hidden="true" tabindex="-1"></a>nvdi_jenks_cl_mat</span>
<span id="cb107-101"><a href="suitability-mapping-part-1.html#cb107-101" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify original raster using the jenks classifications</span></span>
<span id="cb107-102"><a href="suitability-mapping-part-1.html#cb107-102" aria-hidden="true" tabindex="-1"></a>nvdi_jenks_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(nvdi, nvdi_jenks_cl_mat)</span>
<span id="cb107-103"><a href="suitability-mapping-part-1.html#cb107-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-104"><a href="suitability-mapping-part-1.html#cb107-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-105"><a href="suitability-mapping-part-1.html#cb107-105" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. arid</span></span>
<span id="cb107-106"><a href="suitability-mapping-part-1.html#cb107-106" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract values from Raster</span></span>
<span id="cb107-107"><a href="suitability-mapping-part-1.html#cb107-107" aria-hidden="true" tabindex="-1"></a>aridValues <span class="ot">&lt;-</span> <span class="fu">values</span>(arid) </span>
<span id="cb107-108"><a href="suitability-mapping-part-1.html#cb107-108" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the values from vector object to data.frame object</span></span>
<span id="cb107-109"><a href="suitability-mapping-part-1.html#cb107-109" aria-hidden="true" tabindex="-1"></a>aridDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(aridValues)</span>
<span id="cb107-110"><a href="suitability-mapping-part-1.html#cb107-110" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove missing values and reapply column name</span></span>
<span id="cb107-111"><a href="suitability-mapping-part-1.html#cb107-111" aria-hidden="true" tabindex="-1"></a>aridDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(aridDF[<span class="sc">!</span><span class="fu">is.na</span>(aridDF<span class="sc">$</span>aridValues),])</span>
<span id="cb107-112"><a href="suitability-mapping-part-1.html#cb107-112" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(aridDF) <span class="ot">&lt;-</span> <span class="st">&quot;aridValues&quot;</span></span>
<span id="cb107-113"><a href="suitability-mapping-part-1.html#cb107-113" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the getJenksBreaks() function. Sample 0.10 (10%) of the pixels at random and base the categorisation on this. </span></span>
<span id="cb107-114"><a href="suitability-mapping-part-1.html#cb107-114" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Doing this on the full data will take forever - so use the subset argument.</span></span>
<span id="cb107-115"><a href="suitability-mapping-part-1.html#cb107-115" aria-hidden="true" tabindex="-1"></a><span class="co"># EXTRA </span><span class="al">NOTE</span><span class="co">: The values for aridity are very close to each other and so the algorithm splits it to just two cateogries</span></span>
<span id="cb107-116"><a href="suitability-mapping-part-1.html#cb107-116" aria-hidden="true" tabindex="-1"></a>aridJenks <span class="ot">&lt;-</span> <span class="fu">getJenksBreaks</span>(aridDF<span class="sc">$</span>aridValues, <span class="dv">2</span>, <span class="at">subset =</span> <span class="fu">nrow</span>(aridDF)<span class="sc">*</span><span class="fl">0.10</span>)</span>
<span id="cb107-117"><a href="suitability-mapping-part-1.html#cb107-117" aria-hidden="true" tabindex="-1"></a><span class="co"># See value in vector</span></span>
<span id="cb107-118"><a href="suitability-mapping-part-1.html#cb107-118" aria-hidden="true" tabindex="-1"></a>aridJenks</span>
<span id="cb107-119"><a href="suitability-mapping-part-1.html#cb107-119" aria-hidden="true" tabindex="-1"></a><span class="co"># shows first element</span></span>
<span id="cb107-120"><a href="suitability-mapping-part-1.html#cb107-120" aria-hidden="true" tabindex="-1"></a>aridJenks[<span class="dv">1</span>] </span>
<span id="cb107-121"><a href="suitability-mapping-part-1.html#cb107-121" aria-hidden="true" tabindex="-1"></a><span class="co"># shows second element</span></span>
<span id="cb107-122"><a href="suitability-mapping-part-1.html#cb107-122" aria-hidden="true" tabindex="-1"></a>aridJenks[<span class="dv">2</span>] </span>
<span id="cb107-123"><a href="suitability-mapping-part-1.html#cb107-123" aria-hidden="true" tabindex="-1"></a><span class="co"># so on and so further...</span></span>
<span id="cb107-124"><a href="suitability-mapping-part-1.html#cb107-124" aria-hidden="true" tabindex="-1"></a><span class="co"># Create categorisation by using the Jenks values in the vector</span></span>
<span id="cb107-125"><a href="suitability-mapping-part-1.html#cb107-125" aria-hidden="true" tabindex="-1"></a>arid_jenks_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(arid<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, aridJenks[<span class="dv">1</span>], <span class="dv">1</span>,</span>
<span id="cb107-126"><a href="suitability-mapping-part-1.html#cb107-126" aria-hidden="true" tabindex="-1"></a>aridJenks[<span class="dv">1</span>], arid<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">2</span>) </span>
<span id="cb107-127"><a href="suitability-mapping-part-1.html#cb107-127" aria-hidden="true" tabindex="-1"></a><span class="co"># create matrix</span></span>
<span id="cb107-128"><a href="suitability-mapping-part-1.html#cb107-128" aria-hidden="true" tabindex="-1"></a>arid_jenks_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(arid_jenks_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb107-129"><a href="suitability-mapping-part-1.html#cb107-129" aria-hidden="true" tabindex="-1"></a><span class="co"># view categorisation in matrix</span></span>
<span id="cb107-130"><a href="suitability-mapping-part-1.html#cb107-130" aria-hidden="true" tabindex="-1"></a>arid_jenks_cl_mat</span>
<span id="cb107-131"><a href="suitability-mapping-part-1.html#cb107-131" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify original raster using the jenks classifications</span></span>
<span id="cb107-132"><a href="suitability-mapping-part-1.html#cb107-132" aria-hidden="true" tabindex="-1"></a>arid_jenks_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(arid, arid_jenks_cl_mat)</span></code></pre></div>
</details>
<p>For elevation, the risk of LF.decreases with higher values for elevation. Therefore, after applying the Jenks intervals, we need to flip the raster values accordingly.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="suitability-mapping-part-1.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. elev</span></span>
<span id="cb108-2"><a href="suitability-mapping-part-1.html#cb108-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-3"><a href="suitability-mapping-part-1.html#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract values from Raster</span></span>
<span id="cb108-4"><a href="suitability-mapping-part-1.html#cb108-4" aria-hidden="true" tabindex="-1"></a>elevValues <span class="ot">&lt;-</span> <span class="fu">values</span>(elev) </span>
<span id="cb108-5"><a href="suitability-mapping-part-1.html#cb108-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the values from vector object to data.frame object</span></span>
<span id="cb108-6"><a href="suitability-mapping-part-1.html#cb108-6" aria-hidden="true" tabindex="-1"></a>elevDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(elevValues)</span>
<span id="cb108-7"><a href="suitability-mapping-part-1.html#cb108-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove missing values and reapply column name</span></span>
<span id="cb108-8"><a href="suitability-mapping-part-1.html#cb108-8" aria-hidden="true" tabindex="-1"></a>elevDF <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(elevDF[<span class="sc">!</span><span class="fu">is.na</span>(elevDF<span class="sc">$</span>elevValues),])</span>
<span id="cb108-9"><a href="suitability-mapping-part-1.html#cb108-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(elevDF) <span class="ot">&lt;-</span> <span class="st">&quot;elevValues&quot;</span></span>
<span id="cb108-10"><a href="suitability-mapping-part-1.html#cb108-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the getJenksBreaks() function. Sample 0.10 (10%) of the pixels at random and base the categorisation on this. </span></span>
<span id="cb108-11"><a href="suitability-mapping-part-1.html#cb108-11" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: Doing this on the full data will take forever - so use the subset argument. </span></span>
<span id="cb108-12"><a href="suitability-mapping-part-1.html#cb108-12" aria-hidden="true" tabindex="-1"></a>elevJenks <span class="ot">&lt;-</span> <span class="fu">getJenksBreaks</span>(elevDF<span class="sc">$</span>elevValues, <span class="dv">10</span>, <span class="at">subset =</span> <span class="fu">nrow</span>(elevDF)<span class="sc">*</span><span class="fl">0.10</span>)</span>
<span id="cb108-13"><a href="suitability-mapping-part-1.html#cb108-13" aria-hidden="true" tabindex="-1"></a><span class="co"># See value in vector</span></span>
<span id="cb108-14"><a href="suitability-mapping-part-1.html#cb108-14" aria-hidden="true" tabindex="-1"></a>elevJenks</span>
<span id="cb108-15"><a href="suitability-mapping-part-1.html#cb108-15" aria-hidden="true" tabindex="-1"></a><span class="co"># shows first element</span></span>
<span id="cb108-16"><a href="suitability-mapping-part-1.html#cb108-16" aria-hidden="true" tabindex="-1"></a>elevJenks[<span class="dv">1</span>] </span>
<span id="cb108-17"><a href="suitability-mapping-part-1.html#cb108-17" aria-hidden="true" tabindex="-1"></a><span class="co"># shows second element</span></span>
<span id="cb108-18"><a href="suitability-mapping-part-1.html#cb108-18" aria-hidden="true" tabindex="-1"></a>elevJenks[<span class="dv">2</span>] </span>
<span id="cb108-19"><a href="suitability-mapping-part-1.html#cb108-19" aria-hidden="true" tabindex="-1"></a><span class="co"># so on and so further...</span></span>
<span id="cb108-20"><a href="suitability-mapping-part-1.html#cb108-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create categorisation by using the Jenks values in the vector</span></span>
<span id="cb108-21"><a href="suitability-mapping-part-1.html#cb108-21" aria-hidden="true" tabindex="-1"></a>elev_jenks_cl <span class="ot">&lt;-</span> <span class="fu">c</span>(elev<span class="sc">@</span>data<span class="sc">@</span>min<span class="dv">-1</span>, elevJenks[<span class="dv">1</span>], <span class="dv">1</span>,</span>
<span id="cb108-22"><a href="suitability-mapping-part-1.html#cb108-22" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">1</span>], elevJenks[<span class="dv">2</span>], <span class="dv">2</span>,</span>
<span id="cb108-23"><a href="suitability-mapping-part-1.html#cb108-23" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">2</span>], elevJenks[<span class="dv">3</span>], <span class="dv">3</span>,</span>
<span id="cb108-24"><a href="suitability-mapping-part-1.html#cb108-24" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">3</span>], elevJenks[<span class="dv">4</span>], <span class="dv">4</span>,</span>
<span id="cb108-25"><a href="suitability-mapping-part-1.html#cb108-25" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">4</span>], elevJenks[<span class="dv">5</span>], <span class="dv">5</span>,</span>
<span id="cb108-26"><a href="suitability-mapping-part-1.html#cb108-26" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">5</span>], elevJenks[<span class="dv">6</span>], <span class="dv">6</span>,</span>
<span id="cb108-27"><a href="suitability-mapping-part-1.html#cb108-27" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">6</span>], elevJenks[<span class="dv">7</span>], <span class="dv">7</span>,</span>
<span id="cb108-28"><a href="suitability-mapping-part-1.html#cb108-28" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">7</span>], elevJenks[<span class="dv">8</span>], <span class="dv">8</span>,</span>
<span id="cb108-29"><a href="suitability-mapping-part-1.html#cb108-29" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">8</span>], elevJenks[<span class="dv">9</span>], <span class="dv">9</span>,</span>
<span id="cb108-30"><a href="suitability-mapping-part-1.html#cb108-30" aria-hidden="true" tabindex="-1"></a>                                     elevJenks[<span class="dv">9</span>], elev<span class="sc">@</span>data<span class="sc">@</span>max<span class="sc">+</span><span class="dv">1</span>, <span class="dv">10</span>) </span>
<span id="cb108-31"><a href="suitability-mapping-part-1.html#cb108-31" aria-hidden="true" tabindex="-1"></a><span class="co"># create matrix</span></span>
<span id="cb108-32"><a href="suitability-mapping-part-1.html#cb108-32" aria-hidden="true" tabindex="-1"></a>elev_jenks_cl_mat <span class="ot">&lt;-</span> <span class="fu">matrix</span>(elev_jenks_cl, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb108-33"><a href="suitability-mapping-part-1.html#cb108-33" aria-hidden="true" tabindex="-1"></a><span class="co"># view categorisation in matrix</span></span>
<span id="cb108-34"><a href="suitability-mapping-part-1.html#cb108-34" aria-hidden="true" tabindex="-1"></a>elev_jenks_cl_mat</span>
<span id="cb108-35"><a href="suitability-mapping-part-1.html#cb108-35" aria-hidden="true" tabindex="-1"></a><span class="co"># reclassify original raster using the jenks classifications</span></span>
<span id="cb108-36"><a href="suitability-mapping-part-1.html#cb108-36" aria-hidden="true" tabindex="-1"></a>elev_jenks_recl <span class="ot">&lt;-</span> <span class="fu">reclassify</span>(elev, elev_jenks_cl_mat)</span>
<span id="cb108-37"><a href="suitability-mapping-part-1.html#cb108-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-38"><a href="suitability-mapping-part-1.html#cb108-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Now flip the values using raster.invert() function</span></span>
<span id="cb108-39"><a href="suitability-mapping-part-1.html#cb108-39" aria-hidden="true" tabindex="-1"></a>rev_elev_jenks_recl <span class="ot">&lt;-</span> <span class="fu">raster.invert</span>(elev_jenks_recl)</span></code></pre></div>
<p>Visualize the inverted output (NOTE: Blue: High elevation, Red: low elevation):</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="suitability-mapping-part-1.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(rev_elev_jenks_recl) <span class="sc">+</span> <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;cont&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Inverted Elev (on Jenks scale)&quot;</span>, <span class="at">palette=</span> <span class="st">&quot;-Spectral&quot;</span>) <span class="sc">+</span></span>
<span id="cb109-2"><a href="suitability-mapping-part-1.html#cb109-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(kenya_states) <span class="sc">+</span> <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">border.col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb109-3"><a href="suitability-mapping-part-1.html#cb109-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>, <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="images/general/week4/Image3_2.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="determining-the-weight-of-each-variable-using-saatys-ahp" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Determining the weight of each variable using Saaty’s AHP<a href="suitability-mapping-part-1.html#determining-the-weight-of-each-variable-using-saatys-ahp" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To estimate the weights, a helpful tool has been developed and provided in an Excel Worksheet. It has been created for you so that you can see how the calculations are carryout step-by-step to derive the weights. You can interact with the cells to see the formulas and explanations are provided at each step of the way.</p>
<p>Open the spreadsheet <code>Guidance - AHP Calculator Tool.xlsx</code> and read &amp; follow through the steps carefully. These are steps summarized here:</p>
<ul>
<li><strong>Pairwise comparison &amp; Judgement values</strong>: Carry out a pairwise comparison of the factors by constructing a matrix as seen in step 1 in the spreadsheet. Use the criteria and make a <strong>“Judgement”</strong> on the pairwise comparison (it could be based on expert opinion or from literature) asserting a variable’s importance over the other.</li>
<li><strong>Matrices</strong>: Create a square matrix with the judgement values inserted accordingly (see step 2)</li>
<li><strong>Reciprocals</strong>: Take the reciprocals in the matrix (see step 3)</li>
<li><strong>Take column sums</strong>: Sum each of the columns accordingly (see step 4)</li>
<li><strong>Normalization of matrix</strong>: For each element in a column in that square matrix, divide it by it’s corresponding column sum. Repeat this step for all other elements in that matrix. Once completed, sum-up the elements from the division for each row and finally divide it by the number of variables to obtain the <strong>priority vector or weights</strong>. You know that the calculations are correct if the sum of the weights are equal to <code>1</code> (see step 5).</li>
<li><strong>Validation of whether judgement values are reasonable</strong>: We need to calculate a <strong>Consistency Ratio (CR)</strong>, which is derived from the <strong>Consistency Index (CI)</strong> divided by the <strong>Random Index (RI)</strong>. For the <strong>CI</strong>, we estimate an eigenvalue which is derived from the summed products between the summed column multplied by the weights (see step 6 and click on the cell <code>C75</code> to view formula). Use the eigenvalue and estimate the <strong>CI</strong> (see formula in the notes for step 6). Next, use the Random Index table (developed by Saaty, 1980) to determine the <strong>RI</strong> based on the dimension of the matrix (in this case, it is 6). Finally, calculate the <strong>CR</strong> by dividing the <strong>CI</strong>/<strong>RI</strong> (see step 6 and click on the cell <code>E91</code> to view the formula). If <strong>CI</strong> &lt; 1., the judgement values assigned in step 1 are fine. If <strong>CR</strong> is bigger than 1.0, then judgement values in pairwise comparison in step 1 were unreasonable (and thus you’ll have to repeat the step with different values again!)</li>
</ul>
</div>
<div id="weighted-linear-combination-wlc-and-derivation-of-suitability-maps-based-from-ahp-analysis" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Weighted Linear Combination (WLC) and derivation of Suitability Maps based from AHP analysis<a href="suitability-mapping-part-1.html#weighted-linear-combination-wlc-and-derivation-of-suitability-maps-based-from-ahp-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our model uses the <strong>Weighted Linear Combination (WLC)</strong> approach as the decision rule. The formula to estimate the suitability of LF is as follows:</p>
<center>
<strong>Suitability (LF)</strong> = <strong><span class="math inline">\(w_1x_1 + w_2x_2 + w_3x_3 + w_4x_4 + w_5x_5 + w_6x_6\)</span></strong>
</center>
<p>The <span class="math inline">\(w_i\)</span> and <span class="math inline">\(x_i\)</span> represent the weights deprived from AHP analysis and raster variables. The weights are multiplied to it corresponding raster to obtain a raster with values weighted but ultimately scaled with an upper limit of <code>10</code> (but slightly adjusted for NDVI and Aridity because their scaled to <code>2</code>).</p>
<p>This is the derived formula to use in calculating the suitability regions for LF in RStudio:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="suitability-mapping-part-1.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use the rescaled columns in the formula (not the originals!)</span></span>
<span id="cb110-2"><a href="suitability-mapping-part-1.html#cb110-2" aria-hidden="true" tabindex="-1"></a>suitablemap_WLC <span class="ot">&lt;-</span> <span class="fl">0.3324</span><span class="sc">*</span>prec_jenks_recl <span class="sc">+</span> <span class="fl">0.2775</span><span class="sc">*</span>temp_jenks_recl <span class="sc">+</span> <span class="fl">0.1571</span><span class="sc">*</span>popl_jenks_recl <span class="sc">+</span> <span class="fl">0.0901</span><span class="sc">*</span>nvdi_jenks_recl <span class="sc">+</span> <span class="fl">0.0767</span><span class="sc">*</span>arid_jenks_recl <span class="sc">+</span> <span class="fl">0.0659</span><span class="sc">*</span>rev_elev_jenks_recl</span>
<span id="cb110-3"><a href="suitability-mapping-part-1.html#cb110-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-4"><a href="suitability-mapping-part-1.html#cb110-4" aria-hidden="true" tabindex="-1"></a>suitablemap_WLC</span></code></pre></div>
<p>Finally, visualize the output:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="suitability-mapping-part-1.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(suitablemap_WLC) <span class="sc">+</span> <span class="fu">tm_raster</span>(<span class="at">style =</span> <span class="st">&quot;cont&quot;</span>, <span class="at">title =</span> <span class="st">&quot;LF Suitability (AHP WLC)&quot;</span>, <span class="at">palette=</span> <span class="st">&quot;-Spectral&quot;</span>) <span class="sc">+</span></span>
<span id="cb111-2"><a href="suitability-mapping-part-1.html#cb111-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(kenya_states) <span class="sc">+</span> <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">border.col =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> <span class="fu">tm_text</span>(<span class="st">&quot;NAME_1&quot;</span>, <span class="at">size =</span> <span class="st">&quot;AREA&quot;</span>) <span class="sc">+</span></span>
<span id="cb111-3"><a href="suitability-mapping-part-1.html#cb111-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>, <span class="at">legend.outside =</span> <span class="cn">TRUE</span>, <span class="at">legend.title.size =</span> <span class="fl">0.5</span>, <span class="at">legend.text.size =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb111-4"><a href="suitability-mapping-part-1.html#cb111-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_scale_bar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">&quot;left&quot;</span>,<span class="st">&quot;bottom&quot;</span>)) <span class="sc">+</span> <span class="fu">tm_compass</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">&quot;right&quot;</span>, <span class="st">&quot;top&quot;</span>))</span></code></pre></div>
<p><img src="images/general/week4/Image3_3.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="note">
<p><strong>IMPORTANT NOTES</strong>: The suitability ranges are estimated to be from 3.27 to 7.49 (weighted on a scale with a upper limit of 10). The highest suitability for LF are regions with values closest to 7.49 and <em>vice versa</em>.</p>
</div>
</div>
</div>
<div id="references-see-reading-list-1" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> References (see reading list)<a href="suitability-mapping-part-1.html#references-see-reading-list-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="recommended-reading" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Recommended reading<a href="suitability-mapping-part-1.html#recommended-reading" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><strong>Paper</strong>: R.W. Saaty (1987). The Analytical Hierarchy Process - What it is and how it is used, Mathl Modelling, Volume 9(3-5), pages 161 to 176 <a href="https://core.ac.uk/download/pdf/82000104.pdf"><strong>LINK</strong></a></li>
<li><strong>Technical Document</strong>: IDRISI Kilimanjaro: Guide to GIS and Image Processing. Chapter 12: Decision Support - Decision Strategy Analysis, Section on ‘A Typology of Decisions’, pages 151 to 154. <a href="https://www.mtholyoke.edu/courses/tmillett/course/geog307/files/Kilimanjaro%20Manual.pdf"><strong>DOWNLOAD</strong></a></li>
<li><strong>Paper</strong>: A.A. Ali, A. Ahmad (2019). Spatial susceptibility analysis of vector-borne diseases in KMC using geospatial technique and MCDM approach, Modeling Earth Systems and Environment, Issue 5, pages 1135–1159 <a href="https://link.springer.com/article/10.1007/s40808-019-00586-y"><strong>LINK</strong></a></li>
<li><strong>Paper</strong>: X. Zhao et al., (2020). Malaria Risk Map Using Spatial Multi-Criteria Decision Analysis along Yunnan Border During the Pre-elimination Period, Am J Trop Med Hyg, Volume 103 (2), pages 793–809 <a href="https://www.ajtmh.org/view/journals/tpmd/103/2/article-p793.xml?tab_body=pdf"><strong>LINK</strong></a></li>
<li><strong>Paper</strong>: B. Ahmed (2015). Landslide susceptibility mapping using multi-criteria evaluation techniques in Chittagong Metropolitan Area, Bangladesh. Landslides, Issue 12, pages 1077–1095 <a href="https://link.springer.com/article/10.1007/s10346-014-0521-x"><strong>LINK</strong></a></li>
</ol>
</div>
<div id="data-sources-2" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Data Sources<a href="suitability-mapping-part-1.html#data-sources-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>The population density 2015 data for Kenya was obtained from Worldpop and resampled at 1km <a href="https://www.worldpop.org/geodata/summary?id=41972"><strong>Click Here</strong></a></li>
<li>Raster for annual precipitation was created from <strong>bio1_27</strong> and <strong>bio1_37</strong>, averaged and clipped to Kenya. Obtained for WorldClim <a href="https://www.worldclim.org/data/monthlywth.html"><strong>Click Here</strong></a></li>
<li>Raster for annual temperature was created from <strong>bio1_27</strong> and <strong>bio1_37</strong>, averaged and clipped to Kenya. Obtained for WorldClim <a href="https://www.worldclim.org/data/monthlywth.html"><strong>Click Here</strong></a></li>
<li>Aridity Index data was obtained for the Global Aridity and PET Database and clipped to Kenya <a href="https://cgiarcsi.community/data/global-aridity-and-pet-database/"><strong>Click Here</strong></a></li>
<li>Normalized Differenced Vegetation Index was obtained from NASA MODIS <a href="https://modis.gsfc.nasa.gov/data/dataprod/mod13.php"><strong>Click Here</strong></a> (Registration required).</li>
<li>Elevation was obtained from the SRTM CSI CGIAR Project, and cropped to Kenya <a href="https://srtm.csi.cgiar.org/srtmdata/"><strong>Click Here</strong></a></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="spatial-autocorrelation.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": true
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/UCLPG-MSC-SGDS/GEOG0114/edit/main/05-Suitability_mapping_AHP.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
